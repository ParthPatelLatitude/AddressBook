{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    
    <title>Document</title>
</head>
<body>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script> 
<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    

<div class="mdk-header-layout__content page-content pb-0 align-items-center" style="margin-top: 20%;" >
    <div class="bg-white py-32pt py-lg-64pt">
        <div class="container align-items-center page__container" >
            <div class="col-lg-10 p-0 mx-auto">
                <div class="row">
                    <div class="col-md-10 mb-24pt mb-md-0">
                        <div class="container  text-center ">
                            <h1 class="text-black " >SIGN UP</h1>
                        </div>
                        <form onsubmit = "return validateForm()" method="POST" name="form">
                        {% csrf_token %}
                        
                            <div class="form-group">
                                <label for="email">Your Email:</label>
                                <input id="email_id" type="text" name="email_id" class="form-control" onfocusout="ValidateEmail(document.form.email_id)" placeholder="Your email address"autocomplete="off"/>
                                <div id="adiv"></div>
                            </div><br>
                            <div class="form-group mb-24pt">
                                <label for="password">Password:</label>
                                <input id="password" type="password" name="password" class="form-control" placeholder="Your password ..."  />
                                <div id="bdiv"></div>
                            </div> 
                            <br>
                                
                            
                            <button class="btn btn-lg btn-success signup-btn" id="signup-btn"  type="submit">
                                Create account
                            </button>
                            <br>
                            <br>
                            <p>Already have an account? <a href="{% url 'login' %}" class="font-weight-bold text-primary"> <u> Sign In </u> </a>
                        
                        </form>

                        
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    function ValidateEmail(inputText)
        {
        var mailformat = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
        if(inputText.value.match(mailformat))
        {
        $('#signup-btn').removeAttr('disabled')
        document.form.email_id.focusout();
        return true;
        }
        else
        {
        $('#adiv').html('<small style="color:red;"><b>You have entered an invalid email address!</b></small>')
        $('#signup-btn').attr('disabled','true')
        document.form.email_id.focusout();
        return false;
        }
        }
</script>

<script>
    $(function() {
        $('#email_id').on('keypress', function(e) {
            if (e.which == 32){
                console.log('Space Detected');
                return false;
            }
        });
    });
    
    $(function() {
        $('#password').on('keypress', function(e) {
            if (e.which == 32){
                console.log('Space Detected');
                return false;
            }
        });
    });
</script>

<script>
    function validateForm() {
      
      
      const email = $('#email_id').val();
      const password = $('#password').val();
      
  
      console.log('trueeeeeeeeeeeeeeeeeeee, validform')
  
      if((email == '' || email == undefined ||  email == null) && (password.trim() == "" || password == null || password == undefined)){
        $('#adiv').html('<small style="color:red;"><b>This field is required</b></small>')
        $('#bdiv').html('<small style="color:red;"><b>This field is required</b></small>')
       
        return false
      }
      
      else if ((email?.trim() == '' || email == undefined ||  email == null)){
        $('#adiv').html('<small style="color:red;"><b>This field is required</b></small>')
        
        return false;
      }
      else if((password?.trim() == "" || password == null || password == undefined)) {
        $('#bdiv').html('<small style="color:red;"><b>This field is required</b></small>')
        return false;         
      }
      
      else{
        return true;
      }
  
  }
    </script>
  
    <script>
      function email() {
         if ($('#email_id').val().length === 0) {
           $('#adiv').html('<small style="color:red;"><b>This field is required</b></small>')
           $('#signup-btn').attr('disabled','true')
           
         }else{
           $('#signup-btn').removeAttr('disabled')
           $('#adiv').html("")
         }
       }
       
       $('#email_id').focusout(email)
       </script>
     
       <script>
         $('#email').keyup(function(){
          email();  
         });
       </script>
  
       <script>
        function password() {
           if ($('#password').val().length === 0) {
             $('#bdiv').html('<small style="color:red;"><b>This field is required</b></small>')
             $('#signup-btn').attr('disabled','true')
             
           }else{
             $('#signup-btn').removeAttr('disabled')
             $('#bdiv').html("")
           }
         }
         
         $('#password').focusout(password)
         </script>
       
         <script>
           $('#password').keyup(function(){
            password();  
           });
         </script>
        </body> 
</html>


